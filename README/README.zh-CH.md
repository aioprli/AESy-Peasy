# AES-256 加密工具

## 可用语言:

- [English](../README.md)
- [简体中文](./README.zh-CH.md)

本仓库提供了一个支持密钥生成、加密和解密的 AES-256 加密工具。目前仅实现了 **ECB**（电子密码本）模式，但框架已准备支持其他模式以及使用GPU加速。

## 功能

- 密钥生成：使用 SHA256 算法自动生成 256 位密钥以用于 AES 加密。
- 加密：使用 AES-256 的 ECB 模式对明文进行加密。
- 解密：使用 AES-256 的 ECB 模式对密文进行解密。

## 环境要求

- C++17 或更高版本
- Cmake 3.10 或更高版本

## 构建

```
mkdir build
cd build
cmake ..
cmake --build .
```

## 参数说明

### 1. 操作模式（必须且只能选择以下之一）

- **`--generate-key` / `-g`** 使用 SHA-256 生成一个新的加密密钥。
- **`--encrypt` / `-e`** 执行文件或文件夹的加密。需要指定 `--input-file`、`--output-path`、`--key-file` 和 `--key-mode` 参数。
- **`--decrypt` / `-d`** 执行文件或文件夹的解密。需要指定 `--input-file`、`--output-path`、`--key-file` 和 `--key-mode` 参数。

### 2. 文件路径和密钥参数

- **`--key-path` / `-p`** （可选） 指定保存生成密钥的目录路径。默认为当前目录。
- **`--key-filename` / `-f`** （可选） 指定生成密钥的文件名。如果未提供，则默认为 `"key"`。
- **`--input-file` / `-i`** （加密/解密时必需） 指定要加密或解密的输入文件或文件夹的路径。 该参数在加密和解密模式下均为 **必需**。
- **`--key-file` / `-k`** （加密/解密时必需） 指定用于加密或解密的密钥文件路径。 该参数在加密和解密模式下均为 **必需**。
- **`--output-path` / `-o`** （加密/解密时必需） 指定保存输出（加密或解密）文件的目录。 该参数在加密和解密模式下均为 **必需**。

### 3. 密钥模式

- `--key-mode` / `-m` （可选）指定加密模式。可选项：

  - `EBC`（默认）：电子密码本模式。

### 4. 参数规则说明

- 每次只能选择一个操作模式。 以下选项是 互斥的：

  - `--generate-key`
  - `--encrypt`
  - `--decrypt`

- 在执行 **加密** 或 **解密** 时，必须同时提供 `--input-file`、`--output-path`、`--key-file` 和 `--key-mode` 。 未提供这些参数将导致错误。

- 在生成密钥时（`--generate-key`），您可以选择指定 `--key-path` 和 `--key-filename` 以控制密钥的保存位置和文件名。

## 使用示例

### 密钥生成

```
./aes_tool --generate-key -p /path/to/save/key -f my_key
```

生成一个新的加密密钥，并将其保存到 `/path/to/save/key/my_key`。

### 加密

```
./aes_tool --encrypt -i /path/to/input/file -k /path/to/key -o /path/to/output -m ECB
```

使用指定的密钥对输入文件进行加密，并将输出文件保存到提供的输出路径，使用 ECB 模式。

### 解密

```
./aes_tool --decrypt -i /path/to/encrypted/file -k /path/to/key -o /path/to/output -m ecb
```

使用指定的密钥对输入文件进行解密，并将输出文件保存到提供的输出路径，使用 ECB 模式。

## 支持的模式

目前该工具仅支持 ECB 模式。未来版本将加入 CBC、CFB、OFB 和 GCM 等其他模式。

## 开源许可和免责声明

该程序作为开源软件发布，旨在学习和技术交流。以下部分概述了开源许可条款及相关免责声明。

### 开源许可

该程序根据 [MIT 许可证](https://opensource.org/licenses/MIT) 进行分发。您可以自由复制、修改、分发和使用源代码，但必须保留原始许可声明和版权信息。

### 免责声明

1. **仅供学习用途** 该程序仅用于学习和技术交流目的。**不提供安全性或可靠性的保证**。开发者不对程序的准确性、完整性、性能或适用于任何特定用途的适用性提供任何保证。
2. **不提供安全性保证** 该程序的加密功能仅用于学习目的，**不保证加密数据的安全性**。不建议在任何生产环境或涉及敏感数据的场景中使用。用户需对使用该程序时的任何安全风险（包括数据泄露）承担全部责任。
3. **后果自负** 开发者不对因使用或修改该程序导致的用户计算机文件、系统或其他数据损坏负责。**用户对使用该程序的所有后果承担全部责任**。
4. **修改与重新分发** 用户可修改和重新分发该程序。但因修改版本引发的任何问题（包括但不限于数据丢失、系统损坏或信息泄露），均由用户自行承担责任。开发者不对修改版本引发的任何风险负责。

------

**注意：使用该程序即表示您已阅读并同意此免责声明，且理解并接受其中提到的责任和风险。**

